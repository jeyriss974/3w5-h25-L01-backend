version: 2.1

orbs:
  node: circleci/node@4.0.0

jobs:
  checkoutEtTests:
    executor:
      name: node/default 
      tag: '22.9'
    steps:
      - run:
        command: git clone https://github.com/jeyriss974/3w5-h25-L01-backend.git
      - node/install-packages
      - run:
        command: npm run test
  integrationFrontend:
    steps:
      - run:
        command: |
          git clone https://github.com/jeyriss974/3w5-h25-L01-backend.git
          git clone https://github.com/jeyriss974/3w5-h25-L01-frontend.git


workflows:
  labo_01:
    jobs:
      - integrationFrontend:
        requires:
          - checkoutEtTests